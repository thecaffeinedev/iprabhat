<!DOCTYPE html> <html lang="en-US"> <head prefix="og: http://ogp.me/ns#"> <meta charset="UTF-8" /> <meta http-equiv="X-UA-Compatible" content="ie=edge" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <meta name="mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="application-name" content="Prabhat" /> <meta name="apple-mobile-web-app-status-bar-style" content="#fff" /> <meta name="apple-mobile-web-app-title" content="Prabhat" /> <title> Try Django Part-2 - Prabhat </title> <link rel="alternate" href="http://localhost:4000/try-django-part-2/" hreflang="en-US" /> <link rel="canonical" href="http://localhost:4000/try-django-part-2/" /> <meta name="description" content="Part-2 Of Django Tutorial" /> <meta name="referrer" content="no-referrer-when-downgrade" /> <meta property="fb:app_id" content="" /> <meta property="og:site_name" content="Try Django Part-2 | Prabhat" /> <meta property="og:title" content="Try Django Part-2 | Prabhat" /> <meta property="og:type" content="website" /> <meta property="og:url" content="http://localhost:4000/try-django-part-2/" /> <meta property="og:description" content="Part-2 Of Django Tutorial" /> <meta property="og:image" content="http://localhost:4000/assets/favicons.svg" /> <meta property="og:image:width" content="640" /> <meta property="og:image:height" content="640" /> <meta name="twitter:card" content="summary" /> <meta name="twitter:title" content="Try Django Part-2 | caffeinedev" /> <meta name="twitter:url" content="http://localhost:4000/try-django-part-2/" /> <meta name="twitter:site" content="@caffeinedev" /> <meta name="twitter:creator" content="@caffeinedev" /> <meta name="twitter:description" content="Part-2 Of Django Tutorial" /> <meta name="twitter:image" content="http://localhost:4000/assets/favicons.svg" /> <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Prabhat" /> <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/coding-128" /> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/coding-32.png" /> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/coding-16.png" /> <!-- <link rel="manifest" href="/assets/favicons/site.webmanifest" /> <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5" /> --> <meta name="apple-mobile-web-app-title" content="Prabhat" /> <meta name="application-name" content="Prabhat" /> <meta name="msapplication-TileColor" content="#da532c" /> <meta name="theme-color" content="#2c2c2c" /> <link rel="stylesheet" href="/assets/css/style.css" /> </head> <body data-theme="dark" class="notransition"> <script> const body = document.body; const data = body.getAttribute("data-theme"); const initTheme = (state) => { if (state === "dark") { body.setAttribute("data-theme", "dark"); } else if (state === "light") { body.removeAttribute("data-theme"); } else { localStorage.setItem("theme", data); } }; initTheme(localStorage.getItem("theme")); setTimeout(() => body.classList.remove("notransition"), 75); </script> <div class="navbar" role="navigation"> <nav class="menu"> <input type="checkbox" id="menu-trigger" class="menu-trigger" /> <label for="menu-trigger"> <span class="menu-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z" /> </svg> </span> </label> <a id="mode"> <svg class="mode-sunny" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>LIGHT</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> <svg class="mode-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>DARK</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> </a> <div class="trigger"> <div class="trigger-container"><a class="menu-link" href="/">home</a><a class="menu-link" href="/blog/">blog</a><a class="menu-link" href="/uses/">uses</a><a class="menu-link" href="/bookshelf/">bookshelf</a><a class="menu-link" href="/about/">about</a><a class="menu-link rss" href="/feed.xml"> <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 512 512" fill="#ED812E" > <title>RSS</title> <path d="M108.56,342.78a60.34,60.34,0,1,0,60.56,60.44A60.63,60.63,0,0,0,108.56,342.78Z" /> <path d="M48,186.67v86.55c52,0,101.94,15.39,138.67,52.11s52,86.56,52,138.67h86.66C325.33,312.44,199.67,186.67,48,186.67Z" /> <path d="M48,48v86.56c185.25,0,329.22,144.08,329.22,329.44H464C464,234.66,277.67,48,48,48Z" /> </svg> </a> </div> </div> </nav> </div> <div class="wrapper post"> <main class="page-content" aria-label="Content"> <article itemscope itemtype="https://schema.org/BlogPosting"> <header class="header"> <div class="tags"> <span itemprop="keywords"> <a class="tag" href="/tags/#django">DJANGO</a>, <a class="tag" href="/tags/#python">PYTHON</a> </span> </div> <h1 class="header-title" itemprop="headline">Try Django Part-2</h1> <div class="post-meta"> <time datetime="2020-05-06T00:00:00+00:00" itemprop="datePublished"> May 06, 2020 </time> <span itemprop="author" itemscope itemtype="https://schema.org/Person"> <span itemprop="name">Prabhat</span> </span> <time hidden datetime="" itemprop="dateModified"> May 06, 2020 </time> <span hidden itemprop="publisher" itemtype="Person">Prabhat</span> <span hidden itemprop="image"></span> <span hidden itemprop="mainEntityOfPage"><p><img src="./try_django_cover.jpg" alt="Cover image" /></p> </span> </div> </header> <div class="page-content" itemprop="articleBody"> <p><img src="./try_django_cover.jpg" alt="Cover image" /></p> <p>This is the second part of our Intro To Django Tutorial, if you haven’t gone through our previous tutorial please make sure to check it out.</p> <p>In this part of tutorial, we are going to do our migrations, create a sign up form and stuff.</p> <p>So we need to think of our TodoApp features &amp; functionalities first.</p> <h4 id="features"> <a href="#features" class="anchor-head"></a> Features </h4> <ul> <li>User SignUp <ul> <li>User should have an unique username</li> <li>User should give a password</li> </ul> </li> <li>User SignIn <ul> <li>After registration, user should be able to sign by using username and password</li> </ul> </li> <li>After SignIn <ul> <li>User should be able to add todo <ul> <li>A todo will have one title and a memo</li> <li>User can also specify if a todo is important or not</li> </ul> </li> <li>User can see the todo’s</li> <li>User can update, delete or mark complete on a todo.</li> </ul> </li> <li>User can logout</li> </ul> <p>So these are the features that we are going to work on.</p> <p>Whenever we are working on this kind of projects or any big projects where there are multiple functionalities and moving pieces like here in our todo there is signup, signin, creating todo’s, listing todo’s and all, sometimes it’s harder to think like where should I even start the project.</p> <p>So for me personally, I like to think from the User point of view, like If I am the user, If I will not be able to create todo’s without signup first right. I will not be able to logout If I don’t have an account and so on.</p> <p>I would like to first SignUp in the website then, I will be able to login, then I will able to add my todo’s, see all todo’s, update or delete them when needed.</p> <p>This gives us a clear idea where to being the project, like we need to implement user SignUp first, then we can work on login, logout and then we can move into creating todo objects, listing them, updating them and so on. If we kind of follow this flow, it will be really helpful for us to know where we are moving in our project.</p> <p>Let’s go to our project folder named <strong>todo</strong> and run the server.</p> <p><img src="./django2-1.png" alt="" /></p> <p>You can see it’s giving us an warning saying <em>“You have 17 unapplied migration(s). “</em> so let’s do the migrations, to do it run</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python manage.py migrate
</code></pre></div></div> <p><img src="./django2-2.png" alt="" /></p> <p>According to documentation, Migrations are Django’s way of propagating changes you make to your models (adding a field, deleting a model, etc.) into your database schema. They’re designed to be mostly automatic, but you’ll need to know when to make migrations when to run them, and the common problems you might run into.</p> <p>So let’s move forward and create a templates folder inside our todoapp folder. And then create a todo folder inside the templates.</p> <p>Then I need you to create an HTML file called ‘signupuser.html’. If you didn’t understand whatever I have written here, just look at the project structure</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> |-- todo/
 |    |-- todoapp/                &lt;-- our django app!
 |    |    |-- migrations/
 |    |    |    +-- __init__.py
 |    |    |-- templates/
 |    |    |	+-- todoapp/
 |    |    |			+-- signupuser.html
 |    |    |-- __init__.py
 |    |    |-- admin.py
 |    |    |-- apps.py
 |    |    |-- models.py
 |    |    |-- tests.py
 |    |    +-- views.py
 |    |-- todo/            			&lt;-- our django project folder!
 |    |    |-- __init__.py
 |    |    |-- asgi.py
 |    |    |-- settings.py
 |    |    |-- urls.py
 |    |    |-- wsgi.py
 |    +-- manage.py
</code></pre></div></div> <p>Here only I have created a folder called templates inside the todoapp, and inside the templates I have created another folder called todoapp. Then inside that I have created a file called signupuser.html.</p> <p><img src="./django2-4.png" alt="" /></p> <p>Make sure to follow the same names and same folder structure. If you still get confused, you can checkout my Github repo for code.</p> <p>Now open the ‘signupuser.html’ and edit it out with the code below.</p> <p><strong><em>signupuser.html</em></strong></p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;h1&gt;</span> Sign Up <span class="nt">&lt;/h1&gt;</span>
</code></pre></div></div> <p>Now open the views.py inside the todoapp folder and remove the code which was written in our previous section and replace with this code.</p> <p><strong>views.py</strong></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>

<span class="c1"># Create your views here.
</span><span class="k">def</span> <span class="nf">signupuser</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'todoapp/signupuser.html'</span><span class="p">)</span>

</code></pre></div></div> <p>I hope this code is self explanatory, here in the first line we have imported render, which simply renders HTML templates. We have already talked about HttpResponse before.</p> <p>Then we have created a signupuser function which takes a request and it returns us the <em>signupuser.html</em> file.</p> <p>Let’s edit the Urls.py file inside our todoapp folder. Remove the code which was written in our previous tutorial and replace with the code below.</p> <p><strong>Urls.py</strong></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">views</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s">'signup/'</span><span class="p">,</span><span class="n">views</span><span class="p">.</span><span class="n">signupuser</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span><span class="s">'signupuser'</span><span class="p">)</span>
<span class="p">]</span>
</code></pre></div></div> <p>Again we have went through this code structure in our part-1 of the tutorial series. Here we have added the path “signup/”.</p> <p>Now let’s run the server</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python manage.py runserver 
</code></pre></div></div> <p>And go to</p> <p>http://127.0.0.1:8000/signup/</p> <p>You will see the page below, if you are not able to see, you have done something wrong in the process.</p> <p><img src="./django2-3.png" alt="" /></p> <p>Now just we are simply rendering the HTML templates, for now there’s nothing except the SignUp header. Later we will add design and make it look good.</p> <h4 id="basic-sign-up"> <a href="#basic-sign-up" class="anchor-head"></a> Basic Sign Up </h4> <p>Django has some built in tools that you can use to set up the ability for users to log in and log out of a web application.</p> <p>The most simple way to implement a user sign up is by using the <a href="https://docs.djangoproject.com/en/3.0/topics/auth/default/"><strong>UserCreationForm</strong></a>. If you are wondering where this form came from, remember Django comes with some of it’s in built apps. The auth app provides this form.</p> <p>So now let’s open view.py and edit it out with the code below.</p> <p><strong>views.py</strong></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth.forms</span> <span class="kn">import</span> <span class="n">UserCreationForm</span>

<span class="c1"># Create your views here.
</span><span class="k">def</span> <span class="nf">signupuser</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'todoapp/signupuser.html'</span><span class="p">,</span> <span class="p">{</span><span class="s">'form'</span><span class="p">:</span><span class="n">UserCreationForm</span><span class="p">()})</span>

</code></pre></div></div> <p>Here what’s new in this file, in the 3rd line you can see we have imported the <em>UserCreationForm</em>. This UserCreationForm gives us a basic form and we can pass it forward to our templates.</p> <p>In the line 8, we have added a dictonary where the key is the form and the value is UserCreationForm() object.</p> <p>Read more about why we used the dictionary in the above code from <a href="https://docs.djangoproject.com/en/3.0/ref/templates/api/#django.template.Context">documentation.</a></p> <p>To simply understand now, we can pass the form object to our HTML template by using the UserCreationForm Object. Read more about it <a href="https://docs.djangoproject.com/en/3.0/ref/templates/language/">here.</a></p> <p>Now let’s edit signupuser.html file.</p> <p><strong>signupuser.html</strong></p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;h1&gt;</span>SignUp<span class="nt">&lt;/h1&gt;</span>

{{ form }}

</code></pre></div></div> <p>And now if you run the server and go to http://127.0.0.1:8000/signup/ you will be able to see the page below.</p> <p><img src="./django2-5.png" alt="" /></p> <p>So this Django in-built UserCreationForm gives us a basic form. If you didn’t get the syntax which we have used in the signupuser.html file. You can read more about it <a href="https://docs.djangoproject.com/en/3.0/ref/templates/language/">here.</a></p> <p>Now let’s again edit the signupuser.html file.</p> <p><strong>signupuser.html</strong></p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;h1&gt;</span>SignUp<span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"POST"</span><span class="nt">&gt;</span>

{{ form.as_p }}

<span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>Sign Up<span class="nt">&lt;/button&gt;</span>

<span class="nt">&lt;/form&gt;</span>

</code></pre></div></div> <p>Here we have added HTML form. And the method is POST. <em>POST</em> is for writing data, meaning data will be submitted.</p> <p>Now if you save the file and run the sever you will see the page below</p> <p><img src="./django2-6.png" alt="" /></p> <p>Now if you try to fill in some details in the form and if you press submit button you will get this error below. Make sure to try it out so that you understand things better.</p> <p><img src="./django2-7.png" alt="" /></p> <p>Now we got the error saying CSRF token missing. To fix this error</p> <p>Edit this file</p> <p><strong>signupuser.html</strong></p> <script src="https://gist.github.com/TheCaffeineDev/5929a348496cfa46ff17f49fc8e12cad.js"></script> <p>We have added something called <em>csrf_token</em></p> <p>This is a special token aimed at combating something called Cross Site Request Forgery, which you can learn more about here: <a href="https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)"><strong>Cross-Site Request Forgery (CSRF)</strong></a>.</p> <p>Now if you try to give some inputs and submit it, you will not get any error.</p> <p>So that’s it for this tutorial, I hope you understood most of things from here. Try to read more from the links that I have referenced in the tutorial.</p> <p>You can get code for this second part from my <a href="https://github.com/TheCaffeineDev/Django-TodoApp/tree/e99688c3e79cfa110ff93d92234d90a797ae180b">Github Repo</a>.</p> <p>So that’s it for this tutorial series. I am not going to make any more part on this thing. This part is an optional tutorial of how to think more and build more features if you are building some apps.</p> <p>Thanks for reading</p> </div> </article> </main> <nav class="post-nav"> <a class="post-nav-item post-nav-prev" href="/try-django-part-1/" > <div class="nav-arrow">Previous</div> <span class="post-title">Try Django Part-1</span> </a> <a class="post-nav-item post-nav-next" href="/Setting-up-TensorFlow-on-M1-Mac/"> <div class="nav-arrow">Next</div> <span class="post-title">Setting up TensorFlow on M1 Mac</span> </a> </nav> <footer class="footer"> <a class="footer_item" href="/thanks">ack.</a> <a class="footer_item" href="/feed.xml">rss</a> <span class="footer_item">&copy; 2022</span> <small class="footer_copyright"> <a href="https://github.com/TheCaffeineDev" target="_blank" rel="noreferrer noopener" >@Caffeinedev</a > </small> </footer> <script src="/assets/js/main.js" defer="defer"></script> </div> </body> </html>
